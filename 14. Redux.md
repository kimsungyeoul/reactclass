ReduxëŠ” â€œstate ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬â€ë¼ê³ ë§Œ ë“¤ìœ¼ë©´ ë„ˆë¬´ ë°‹ë°‹í•˜ì£ .
ì¡°ê¸ˆ ê³¼ì¥í•´ì„œ ë§í•˜ë©´,

> **â€œë³µì¡í•œ í”„ë¡ íŠ¸ì—”ë“œ ì•±ì„ ê·¸ë˜ë„ ì‚¬ëŒ ë¨¸ë¦¬ë¡œ ì´í•´ ê°€ëŠ¥í•œ ìˆ˜ì¤€ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” ê·œì¹™ ì„¸íŠ¸â€** ì…ë‹ˆë‹¤. ğŸ˜

ì´ ê¸€ì—ì„œëŠ” **ì „í†µì ì¸ Redux ê°œë… â†’ ì™œ ì˜ˆì¸¡ ê°€ëŠ¥í•´ì§€ëŠ”ì§€ â†’ Reactì™€ì˜ ì—°ê²° â†’ í˜„ëŒ€ Redux(=Redux Toolkit ì¤‘ì‹¬)** ê¹Œì§€, ê¹Šê²Œ ì •ë¦¬í•´ë³¼ê²Œìš”.

---

## 1. Redux í•œ ì¤„ ì •ì˜ì™€ í•µì‹¬ í‚¤ì›Œë“œ ğŸ§ 

**í•œ ì¤„ ì •ì˜**

> ReduxëŠ” **ë‹¨ì¼ Store**ì— ì•±ì˜ stateë¥¼ ëª¨ìœ¼ê³ ,
> state ë³€ê²½ì„ **Action â†’ Reducer â†’ ìƒˆë¡œìš´ State** ë¼ëŠ”
> **ì—„ê²©í•œ ë‹¨ë°©í–¥ ë°ì´í„° íë¦„**ìœ¼ë¡œë§Œ í—ˆìš©í•´ì„œ
> state ë³€í™”ë¥¼ **ì˜ˆì¸¡ ê°€ëŠ¥(predictable)** í•˜ê²Œ ë§Œë“œëŠ” state ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.

ì—¬ê¸°ì„œ í•µì‹¬ í‚¤ì›Œë“œëŠ”:

1. **Single Source of Truth (ë‹¨ì¼ ì§„ì‹¤ì˜ ê·¼ì›)**
2. **State is Read-Only (stateëŠ” ì½ê¸° ì „ìš©)**
3. **Changes are Made with Pure Functions (ë³€í™”ëŠ” ìˆœìˆ˜ í•¨ìˆ˜ë¡œë§Œ)**

ì´ ì„¸ ê°€ì§€ ì›ì¹™ì´ Reduxì˜ ëª¨ë“  ê²ƒì„ ì§€ë°°í•©ë‹ˆë‹¤.

---

## 2. ì™œ Reduxê°€ ë“±ì¥í–ˆë‚˜? â€œstate ì§€ì˜¥â€ ì´ì•¼ê¸° ğŸ˜µâ€ğŸ’«

ì´ˆê¸° React ì•±ì„ ë– ì˜¬ë ¤ ë´…ì‹œë‹¤.

* ìƒìœ„ ì»´í¬ë„ŒíŠ¸ê°€ `props`ë¡œ stateë¥¼ ìì‹ì—ê²Œ ê³„ì† ë‚´ë ¤ì¤Œ (props drilling)
* í˜•ì œ ì»´í¬ë„ŒíŠ¸ë¼ë¦¬ stateë¥¼ ê³µìœ í•˜ë ¤ë©´ ê³µí†µ ë¶€ëª¨ë¡œ ëŒì–´ì˜¬ë¦¼(lifting state up)
* í˜ì´ì§€ê°€ ë§ì•„ì§€ê³ , ëª¨ë‹¬, ì•Œë¦¼, ìœ ì € ì •ë³´, í•„í„° state, í˜ì´ì§€ë„¤ì´ì…˜, í¼ ê°’ â€¦
  ì´ëŸ° ê²ƒë“¤ì´ ì—¬ê¸°ì €ê¸° í©ì–´ì§€ë©´ì„œ **ì–´ë””ì—ì„œ stateê°€ ë³€ê²½ë˜ëŠ”ì§€ ì¶”ì ì´ ì§€ì˜¥**ì´ ë©ë‹ˆë‹¤.

ë¬¸ì œì ë“¤:

1. **stateê°€ ì—¬ê¸°ì €ê¸° í©ì–´ì§**

   * ì–´ë–¤ ë°ì´í„°ëŠ” A ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ `useState`
   * ì–´ë–¤ ë°ì´í„°ëŠ” B ì»´í¬ë„ŒíŠ¸ì˜ `useState`
   * ì–´ë–¤ ë°ì´í„°ëŠ” Context
   * ì½”ë“œ ì½ì„ ë•Œ â€œë„ëŒ€ì²´ ì´ ê°’ì€ ì–´ë””ì—ì„œ ì˜¤ê³ , ëˆ„ê°€ ë°”ê¾¸ëŠ” ê±°ì•¼?â€ê°€ ë©ë‹ˆë‹¤.

2. **ì•”ë¬µì ì¸ state ë³€ê²½**

   * ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ê°€ ê°™ì€ ë°ì´í„°ë¥¼ ë‹¤ë¥´ê²Œ í•´ì„í•˜ê±°ë‚˜,
   * ì„œë¡œ ë‹¤ë¥¸ ê³³ì—ì„œ stateë¥¼ ì¡°ì‘í•´ì„œ **ë²„ê·¸ ì¬í˜„ì´ ì–´ë µê³ , ë””ë²„ê¹…ì´ í˜ë“¦**.

3. **íƒ€ì´ë°Â·ìˆœì„œ ë¬¸ì œ**

   * ë¹„ë™ê¸° ìš”ì²­, íƒ€ì´ë¨¸, ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ë’¤ì„ì´ë©´ì„œ
   * â€œì´ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´, ì–´ë–¤ ìˆœì„œë¡œ ë¬´ìŠ¨ stateê°€ ë°”ë€ŒëŠ”ì§€â€ ë¨¸ë¦¿ì†ì—ì„œ ì‹œë®¬ë ˆì´ì…˜í•˜ê¸°ê°€ ë§¤ìš° í˜ë“­ë‹ˆë‹¤.

ReduxëŠ” ì´ ë¬¸ì œì— ì´ë ‡ê²Œ ë‹µí•©ë‹ˆë‹¤:

> â€œ**stateëŠ” í•œ êµ°ë°(Store)ì— ëª¨ì•„ë‘ê³ ,
> stateë¥¼ ë°”ê¾¸ëŠ” ë°©ë²•ì€ ì˜¤ì§ Action â†’ Reducer ë¿ì´ë‹¤.
> ê·¸ ì™¸ì˜ ê²½ë¡œëŠ” ëª¨ë‘ ê¸ˆì§€!**â€

ì´ë ‡ê²Œ í•˜ë©´ **state íë¦„ì´ ê·œì•½ìœ¼ë¡œ ê³ ì •**ë˜ê¸° ë•Œë¬¸ì—,
ì½”ë“œë¥¼ ì½ì„ ë•Œ í›¨ì”¬ ì˜ˆì¸¡ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.

---

## 3. Reduxì˜ 3ëŒ€ ì›ì¹™ ğŸ§±

### 3.1 Single Source of Truth ğŸ›

> ì•± ì „ì²´ stateëŠ” **í•˜ë‚˜ì˜ Store ê°ì²´**ì— íŠ¸ë¦¬ í˜•íƒœë¡œ ì €ì¥ëœë‹¤.

```ts
// ì˜ˆ: Redux Store ì•ˆì˜ state êµ¬ì¡° ì˜ˆì‹œ
{
  user: {
    id: 1,
    name: 'í™ê¸¸ë™',
    role: 'admin'
  },
  cart: {
    items: [
      { id: 'p1', name: 'ë…¸íŠ¸ë¶', price: 1500000, quantity: 1 },
      { id: 'p2', name: 'ë§ˆìš°ìŠ¤', price: 30000, quantity: 2 },
    ],
    totalPrice: 1560000
  },
  ui: {
    loading: false,
    modal: {
      isOpen: true,
      content: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.'
    }
  }
}
```

* ì•±ì—ì„œ í•„ìš”í•œ ëª¨ë“  stateê°€ **í•œ ëˆˆì— êµ¬ì¡°ì ìœ¼ë¡œ** ë³´ì…ë‹ˆë‹¤.
* â€œí˜„ì¬ ì•±ì˜ ì „ì²´ stateâ€ë¥¼ í•˜ë‚˜ì˜ JSON ìŠ¤ëƒ…ìƒ·ìœ¼ë¡œ ì €ì¥/ë¡œê¹…/ì „ì†¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* í…ŒìŠ¤íŠ¸, ë””ë²„ê¹…, ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì— ìœ ë¦¬í•©ë‹ˆë‹¤.

---

### 3.2 State is Read-Only ğŸ§Š

> stateë¥¼ ì§ì ‘ ìˆ˜ì •í•˜ëŠ” ê²ƒì€ **ì ˆëŒ€ ì•ˆ ëœë‹¤.**
> state ë³€ê²½ì€ ë°˜ë“œì‹œ **Action**ì„ í†µí•´ì„œë§Œ ì¼ì–´ë‚œë‹¤.

```ts
// âŒ ì´ë ‡ê²Œ í•˜ë©´ ì•ˆ ë¨
store.state.cart.items.push(newItem);  // ì§ì ‘ ìˆ˜ì • ê¸ˆì§€
store.state.user.name = 'ì´ëª½ë£¡';      // ì§ì ‘ ìˆ˜ì • ê¸ˆì§€

// âœ… í•­ìƒ Action ë””ìŠ¤íŒ¨ì¹˜
store.dispatch({ type: 'cart/addItem', payload: newItem });
store.dispatch({ type: 'user/changeName', payload: 'ì´ëª½ë£¡' });
```

ì´ ê·œì¹™ ë•ë¶„ì—:

* â€œì´ stateê°€ ì–¸ì œ, ì–´ë–¤ ì´ìœ ë¡œ ë°”ë€Œì—ˆë‚˜?â€ â†’ í•­ìƒ **ì–´ë–¤ Actionì´ ë””ìŠ¤íŒ¨ì¹˜ ë˜ì—ˆëŠ”ì§€**ë¥¼ ë³´ë©´ ë©ë‹ˆë‹¤.
* Actionì€ ë³´í†µ **í‰ë²”í•œ ê°ì²´(Plain Object)** ì´ë¯€ë¡œ,
  ì´ë¥¼ ë¡œê¹…í•˜ê±°ë‚˜ ê¸°ë¡í•˜ê¸°ê°€ ë§¤ìš° ì‰½ìŠµë‹ˆë‹¤.

---

### 3.3 Changes are Made with Pure Functions ğŸ§¼

> **Reducer**ëŠ” (í˜„ì¬ state, Action)ì„ ë°›ì•„ì„œ **ìƒˆë¡œìš´ state**ë¥¼ ë°˜í™˜í•˜ëŠ” **ìˆœìˆ˜ í•¨ìˆ˜**ì—¬ì•¼ í•©ë‹ˆë‹¤.

ìˆœìˆ˜ í•¨ìˆ˜(pure function) íŠ¹ì§•:

* ê°™ì€ ì•„ê·œë¨¼íŠ¸ â†’ í•­ìƒ ê°™ì€ ê²°ê³¼
* ì™¸ë¶€ stateë¥¼ ì§ì ‘ ë³€ê²½í•˜ì§€ ì•ŠìŒ (no side effect)
* ì•„ê·œë¨¼íŠ¸íŠ¸ë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³ , í•­ìƒ ìƒˆë¡œìš´ ê°’ì„ ë§Œë“¤ì–´ì„œ ë°˜í™˜

```ts
// (state, action) => newState
function cartReducer(state, action) {
  switch (action.type) {
    case 'cart/addItem':
      // âŒ state.items.push(...) X
      // âœ… ìƒˆë¡œìš´ ë°°ì—´ë¡œ ë³µì‚¬í•´ì„œ ë°˜í™˜
      return {
        ...state,
        items: [...state.items, action.payload],
      };

    case 'cart/clear':
      return {
        ...state,
        items: [],
      };

    default:
      return state;
  }
}
```

ì´ë ‡ê²Œ í•˜ë©´:

* ReducerëŠ” **ë°ì´í„° ë³€í™˜ ë¡œì§ë§Œ** ë‹´ê³ ,
* ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œ, ë¡œê¹… ë“± ì‚¬ì´ë“œ ì´í™íŠ¸ëŠ” **ë³„ë„ì˜ ê³„ì¸µ(Thunk, Saga ë“±)**ë¡œ ë¶„ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* ê²°ê³¼ì ìœ¼ë¡œ **â€œstate ë³€ê²½ ë¡œì§â€ì´ ìˆœìˆ˜ í•¨ìˆ˜ë“¤ë¡œ ëª¨ë“ˆí™”**ë˜ì–´ í…ŒìŠ¤íŠ¸ì™€ ì´í•´ê°€ ì‰¬ì›Œì§‘ë‹ˆë‹¤.

---

## 4. Reduxì˜ í•µì‹¬ êµ¬ì„± ìš”ì†Œ 4ê°€ì§€ ğŸ”§

1. **Store**
2. **Action**
3. **Reducer**
4. **Dispatch & Subscribe**

### 4.1 Store: stateë¥¼ ë³´ê´€í•˜ëŠ” ê°ì²´ ğŸ¬

StoreëŠ” **ì•±ì˜ ëª¨ë“  stateë¥¼ ë‹´ê³  ìˆëŠ” ê°ì²´**ì´ë©°, ì„¸ ê°€ì§€ ì£¼ìš” ë©”ì„œë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.

* `getState()` : í˜„ì¬ state ì¡°íšŒ
* `dispatch(action)` : ì•¡ì…˜ì„ ë³´ë‚´ì„œ state ë³€ê²½ ìš”ì²­
* `subscribe(listener)` : state ë³€ê²½ì„ ê°ì§€í•˜ëŠ” ë¦¬ìŠ¤ë„ˆ ë“±ë¡

ì „í†µì ì¸ Redux(ìˆœìˆ˜ JS)ì—ì„œ Store ìƒì„± ì˜ˆì‹œ:

```js
import { createStore } from 'redux';
import rootReducer from './reducers';

const store = createStore(rootReducer);

// í˜„ì¬ state ì¡°íšŒ
console.log(store.getState());

// state ë³€ê²½ êµ¬ë…
const unsubscribe = store.subscribe(() => {
  console.log('state ë³€ê²½ë¨:', store.getState());
});

// ì•¡ì…˜ ë””ìŠ¤íŒ¨ì¹˜
store.dispatch({ type: 'counter/increment' });
store.dispatch({ type: 'counter/decrement' });

// êµ¬ë… í•´ì œ
unsubscribe();
```

Reactì™€ ê²°í•©í•  ë• `Provider`ë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì— Storeë¥¼ ì£¼ì…í•©ë‹ˆë‹¤.

---

### 4.2 Action: â€œë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚¬ëŠ”ì§€â€ë¥¼ ì„¤ëª…í•˜ëŠ” ê°ì²´ ğŸ“©

Actionì€ ë‹¨ìˆœí•œ JS ê°ì²´ì…ë‹ˆë‹¤.

```ts
{
  type: 'cart/addItem',
  payload: { id: 'p1', name: 'ë…¸íŠ¸ë¶', price: 1500000 }
}
```

* `type`: **ë¬¸ìì—´ ìƒìˆ˜**, ê¼­ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
* `payload`: (ì„ íƒ) ì‹¤ì œ ë°ì´í„°

Actionì€ **â€œì–´ë–¤ ì˜ë„ê°€ ìˆëŠ” ì´ë²¤íŠ¸â€**ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.

* `'user/loginRequested'`
* `'user/loginSucceeded'`
* `'user/loginFailed'`
* `'cart/addItem'`
* `'cart/removeItem'`

ì´ë ‡ê²Œ íƒ€ì…ì„ ë¶„ë¦¬í•´ë‘ë©´, ë‚˜ì¤‘ì— ë¡œê·¸ë¥¼ ë³¼ ë•Œ:

> â€œì•„, ì´ ì‹œê°„ì— loginFailedê°€ ì—¬ëŸ¬ ë²ˆ ë°œìƒí–ˆêµ¬ë‚˜ â†’ ì¸ì¦ ì„œë²„ ë¬¸ì œì¸ê°€?â€

ì²˜ëŸ¼ **ë„ë©”ì¸ ì´ë²¤íŠ¸ íë¦„** ìì²´ë¥¼ ì¶”ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ Redux ì•¡ì…˜ì€ ê±°ì˜ **ë„ë©”ì¸ ì´ë²¤íŠ¸ ë¡œê·¸**ì— ê°€ê¹Œìš´ ì—­í• ì„ í•©ë‹ˆë‹¤.

---

### 4.3 Reducer: state ë³€ê²½ ë¡œì§ì„ ë‹´ì€ ìˆœìˆ˜ í•¨ìˆ˜ ğŸ§®

ReducerëŠ” ë³´í†µ **ë„ë©”ì¸ë³„ë¡œ ìª¼ê°œì„œ** ê´€ë¦¬í•©ë‹ˆë‹¤.

```ts
const initialUserState = {
  id: null,
  name: null,
  isLoggedIn: false,
};

function userReducer(state = initialUserState, action) {
  switch (action.type) {
    case 'user/loginSucceeded':
      return {
        ...state,
        ...action.payload,
        isLoggedIn: true,
      };

    case 'user/logout':
      return initialUserState;

    default:
      return state;
  }
}
```

ì—¬ëŸ¬ Reducerë¥¼ **combineReducers**ë¡œ í•©ì³ì„œ `rootReducer`ë¥¼ ë§Œë“­ë‹ˆë‹¤.

```ts
import { combineReducers } from 'redux';
import userReducer from './userReducer';
import cartReducer from './cartReducer';
import uiReducer from './uiReducer';

const rootReducer = combineReducers({
  user: userReducer,
  cart: cartReducer,
  ui: uiReducer,
});

export default rootReducer;
```

ì´ êµ¬ì¡° ë•ë¶„ì— **ë„ë©”ì¸ë³„ë¡œ stateì™€ ë¡œì§ì´ ì˜ ë¶„ë¦¬**ë©ë‹ˆë‹¤.

---

### 4.4 Dispatch & Subscribe ğŸš¦

* **Dispatch**: Actionì„ Storeì— ë³´ë‚´ëŠ” ê²ƒ
* **Subscribe**: stateê°€ ë°”ë€” ë•Œë§ˆë‹¤ í˜¸ì¶œë  ì½œë°±ì„ ë“±ë¡

Reactì™€ í•¨ê»˜ ì“¸ ë•ŒëŠ” ì§ì ‘ `subscribe`ë¥¼ ì“°ê¸°ë³´ë‹¤ëŠ”
`react-redux`ì˜ `useSelector`, `useDispatch` í›…ì´ ì´ë¥¼ ì¶”ìƒí™”í•©ë‹ˆë‹¤.

---

## 5. Reduxê°€ â€œì˜ˆì¸¡ ê°€ëŠ¥í•˜ë‹¤â€ëŠ” ê±´ ì‹¤ì œë¡œ ë¬´ìŠ¨ ì˜ë¯¸? ğŸ”

â€œstateê°€ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ë‹¤â€ëŠ” ë§ì´ ë§ì´ ì“°ì´ëŠ”ë°, ì¢€ ë” êµ¬ì²´ì ìœ¼ë¡œ í’€ì–´ë´…ì‹œë‹¤.

### 5.1 ì…ë ¥ì´ ê°™ìœ¼ë©´ ì¶œë ¥ë„ ê°™ë‹¤ (Deterministic)

> **ê°™ì€ Initial State + ê°™ì€ Action ì‹œí€€ìŠ¤ â†’ í•­ìƒ ê°™ì€ ìµœì¢… State**

ì´ê²Œ ê°€ëŠ¥í•œ ì´ìœ :

* stateëŠ” **ìˆœìˆ˜ í•¨ìˆ˜ì¸ Reducer**ë¥¼ í†µí•´ì„œë§Œ ë³€ê²½ë©ë‹ˆë‹¤.
* ReducerëŠ” ê°™ì€ ì¸ìì— ëŒ€í•´ ê°™ì€ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

ì¦‰,

```ts
const initialState = {...};

const finalState1 = actions.reduce(rootReducer, initialState);
const finalState2 = actions.reduce(rootReducer, initialState);

// í•­ìƒ finalState1 === finalState2
```

ì´ê²Œ ë³´ì¥ë©ë‹ˆë‹¤.
ê·¸ë˜ì„œ:

* **Replay**ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤. (Actionë“¤ì„ ê¸°ë¡í•´ë‘ê³  ë‹¤ì‹œ ì¬ìƒ)
* **Time Travel Debugging**ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
  (DevToolsì—ì„œ â€œì´ ì‹œì ìœ¼ë¡œ ë˜ëŒë¦¬ê¸°â€ ê°™ì€ ê¸°ëŠ¥)

---

### 5.2 â€œstate ë³€ê²½ì˜ ì—­ì‚¬â€ë¥¼ ê¸°ë¡í•  ìˆ˜ ìˆë‹¤ ğŸ“œ

Actionë“¤ì€ ë‹¨ìˆœ ê°ì²´ë¼ì„œ:

```ts
[
  { type: 'user/loginRequested', payload: {...} },
  { type: 'user/loginSucceeded', payload: {...} },
  { type: 'cart/addItem', payload: {...} },
  { type: 'cart/addItem', payload: {...} },
  { type: 'cart/removeItem', payload: {...} },
]
```

ì´ë ‡ê²Œ **ìˆœì„œëŒ€ë¡œ ìŒ“ì—¬ ìˆëŠ” â€œì´ë ¥â€**ì´ ë©ë‹ˆë‹¤.

ì´ê±¸ ë¡œê·¸ë¡œ ë‚¨ê¸°ë©´:

* íŠ¹ì • ë²„ê·¸ê°€ ë°œìƒí•œ ì‹œì ì˜ state,
* ê·¸ ì§ì „ì— ì–´ë–¤ Actionë“¤ì´ ìˆì—ˆëŠ”ì§€,
* ë™ì¼í•œ Action ì‹œí€€ìŠ¤ë¥¼ ì¬í˜„í•´ì„œ ë””ë²„ê¹…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ê²Œ ë°”ë¡œ â€œì˜ˆì¸¡ ê°€ëŠ¥ì„± + ì¬í˜„ ê°€ëŠ¥ì„±â€ì˜ í•µì‹¬ì…ë‹ˆë‹¤.

---

## 6. Reduxì™€ Reactì˜ ì—°ê²° ğŸ”—

ì „í†µì ì¸ ì—°ê²° ë°©ì‹ (ì§€ê¸ˆë„ ê°œë… ì´í•´ìš©ìœ¼ë¡œ ì¢‹ìŒ):

1. `Provider`ë¡œ Storeë¥¼ React ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì— ì£¼ì…
2. `useSelector` í˜¹ì€ `connect`ë¡œ state êµ¬ë…
3. `useDispatch` í˜¹ì€ `mapDispatchToProps`ë¡œ ì•¡ì…˜ ë””ìŠ¤íŒ¨ì¹˜

### 6.1 ê¸°ë³¸ ì„¸íŒ… ì˜ˆì‹œ

```bash
npm install redux react-redux
```

```tsx
// store.ts
import { legacy_createStore as createStore } from 'redux';
import rootReducer from './reducers';

export const store = createStore(rootReducer);
```

```tsx
// index.tsx (Vite + React ê¸°ì¤€)
import React from 'react';
import ReactDOM from 'react-dom/client';
import { Provider } from 'react-redux';
import { store } from './store';
import App from './App';

ReactDOM.createRoot(document.getElementById('root')!).render(
  <Provider store={store}>
    <App />
  </Provider>
);
```

### 6.2 ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©

```tsx
// Counter.tsx
import React from 'react';
import { useSelector, useDispatch } from 'react-redux';

function Counter() {
  const count = useSelector((state: any) => state.counter.value);
  const dispatch = useDispatch();

  return (
    <div>
      <p>í˜„ì¬ ì¹´ìš´íŠ¸: {count}</p>
      <button onClick={() => dispatch({ type: 'counter/increment' })}>+1</button>
      <button onClick={() => dispatch({ type: 'counter/decrement' })}>-1</button>
    </div>
  );
}

export default Counter;
```

ì´ë ‡ê²Œ í•˜ë©´:

* ì´ ì»´í¬ë„ŒíŠ¸ëŠ” **Redux Storeì˜ `counter.value` stateë¥¼ êµ¬ë…**í•˜ê²Œ ë˜ê³ ,
* í•´ë‹¹ ê°’ì´ ë°”ë€” ë•Œë§Œ ë¦¬ë Œë”ë§í•©ë‹ˆë‹¤.

---

## 7. Middleware: ë¹„ë™ê¸°ì™€ ì‚¬ì´ë“œ ì´í™íŠ¸ ë¶„ë¦¬í•˜ê¸° ğŸš€

ReducerëŠ” ìˆœìˆ˜ í•¨ìˆ˜ì—¬ì•¼ í•˜ë¯€ë¡œ:

* API í˜¸ì¶œ
* ë¡œê¹…
* íƒ€ì´ë¨¸
* ê¸°íƒ€ ì‚¬ì´ë“œ ì´í™íŠ¸

ë¥¼ Reducer ì•ˆì—ì„œ í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤.

ê·¸ë˜ì„œ ReduxëŠ” **Middleware** ê°œë…ì„ ë„ì…í•©ë‹ˆë‹¤.

### 7.1 Middlewareë€?

> `store.dispatch(action)`ì´ Reducerì— ë„ë‹¬í•˜ê¸° ì „ì—
> ì¤‘ê°„ì—ì„œ Actionì„ ê°€ë¡œì±„ì–´ **ë¬´ì–¸ê°€ë¥¼ í•  ìˆ˜ ìˆëŠ” ë ˆì´ì–´**ì…ë‹ˆë‹¤.

ëŒ€í‘œì ì¸ ë¯¸ë“¤ì›¨ì–´:

* `redux-thunk` : í•¨ìˆ˜(Action Creatorê°€ í•¨ìˆ˜ë¥¼ ë°˜í™˜) ê¸°ë°˜ ë¹„ë™ê¸° ì²˜ë¦¬
* `redux-saga` : Generator ê¸°ë°˜ ì‚¬ì´ë“œ ì´í™íŠ¸ ê´€ë¦¬
* `logger` : Action/State ë¡œê¹…

ì˜ˆ: Thunk

```ts
// thunk action creator ì˜ˆì‹œ
function fetchUser() {
  return async (dispatch) => {
    dispatch({ type: 'user/fetchStarted' });

    try {
      const res = await fetch('/api/user');
      const data = await res.json();
      dispatch({ type: 'user/fetchSucceeded', payload: data });
    } catch (error) {
      dispatch({ type: 'user/fetchFailed', error });
    }
  };
}
```

ì´ë ‡ê²Œ í•˜ë©´:

* ì»´í¬ë„ŒíŠ¸ì—ì„œ `dispatch(fetchUser())`ë¥¼ í˜¸ì¶œ
* ì‹¤ì œë¡œëŠ” í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´ì„œ ë¹„ë™ê¸° ë¡œì§ ìˆ˜í–‰
* ì¤‘ê°„ì— ì—¬ëŸ¬ Actionì„ ë¶„ë¦¬í•´ì„œ ë””ìŠ¤íŒ¨ì¹˜ ê°€ëŠ¥

ê²°ë¡ ì ìœ¼ë¡œ:

> **ë¹„ë™ê¸°/ì‚¬ì´ë“œ ì´í™íŠ¸ ë¡œì§**ì€ ë¯¸ë“¤ì›¨ì–´ ì¸µìœ¼ë¡œ ë°€ì–´ ì˜¬ë¦¬ê³ ,
> **state ë³€ê²½ ë¡œì§**ì€ Reducerì—ì„œë§Œ ì²˜ë¦¬ â†’ ê´€ì‹¬ì‚¬ ë¶„ë¦¬(Cross-cutting Concern ë¶„ë¦¬)

---

## 8. í˜„ëŒ€ Redux: â€œRedux Toolkitâ€ì´ í‘œì¤€ì´ë‹¤ ğŸ§°

ê¸°ì¡´ ReduxëŠ”:

* `createStore`, `combineReducers`, `switch(action.type)` íŒ¨í„´
* Action Type, Action Creator, Reducer íŒŒì¼ ë¶„ë¦¬ ë“± ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ê°€ ë§ìŒ
* Immer ì—†ì´ ì§ì ‘ ë¶ˆë³€ì„±ì„ ì§€ì¼œì•¼ í•´ì„œ ì½”ë“œê°€ ì¥í™©í•¨

ê·¸ë˜ì„œ ê³µì‹ ë¬¸ì„œì—ì„œë„ ì´ì œëŠ” **Redux Toolkit(RTK)** ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤.

```bash
npm install @reduxjs/toolkit react-redux
```

### 8.1 Redux Toolkitì˜ í•µì‹¬ ê¸°ëŠ¥

1. `configureStore()` : ë¯¸ë“¤ì›¨ì–´, DevTools, Reducer í†µí•© ì„¤ì •
2. `createSlice()` : Action Type + Action Creator + Reducerë¥¼ í•œ ë²ˆì— ì •ì˜
3. `createAsyncThunk()` : ë¹„ë™ê¸° ë¡œì§ í…œí”Œë¦¿ ì œê³µ
4. Immer ê¸°ë°˜ Draft ì‚¬ìš© â†’ **ê°€ë³€ì²˜ëŸ¼ ì‘ì„±í•´ë„ ë‚´ë¶€ì ìœ¼ë¡œ ë¶ˆë³€ì„± ìœ ì§€**

### 8.2 RTK ì˜ˆì‹œ: Counter Slice

```ts
// features/counterSlice.ts
import { createSlice } from '@reduxjs/toolkit';

interface CounterState {
  value: number;
}

const initialState: CounterState = {
  value: 0,
};

const counterSlice = createSlice({
  name: 'counter', // action type prefix
  initialState,
  reducers: {
    increment(state) {
      // ì—¬ê¸°ì„œ stateë¥¼ "ì§ì ‘ ë³€ê²½"í•˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ,
      // ì‹¤ì œë¡œëŠ” Immerê°€ ë¶ˆë³€ì„±ì„ ìœ ì§€í•´ì¤Œ
      state.value += 1;
    },
    decrement(state) {
      state.value -= 1;
    },
    incrementByAmount(state, action) {
      state.value += action.payload;
    },
  },
});

export const { increment, decrement, incrementByAmount } = counterSlice.actions;
export default counterSlice.reducer;
```

### 8.3 Store ì„¤ì • (RTK)

```ts
// store.ts
import { configureStore } from '@reduxjs/toolkit';
import counterReducer from './features/counterSlice';

export const store = configureStore({
  reducer: {
    counter: counterReducer,
  },
});

export type RootState = ReturnType<typeof store.getState>;
export type AppDispatch = typeof store.dispatch;
```

### 8.4 ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš© (RTK + React)

```tsx
// Counter.tsx
import React from 'react';
import { useSelector, useDispatch } from 'react-redux';
import type { RootState, AppDispatch } from '../store';
import { increment, decrement, incrementByAmount } from '../features/counterSlice';

function Counter() {
  const count = useSelector((state: RootState) => state.counter.value);
  const dispatch = useDispatch<AppDispatch>();

  return (
    <div>
      <p>í˜„ì¬ ì¹´ìš´íŠ¸: {count}</p>
      <button onClick={() => dispatch(increment())}>+1</button>
      <button onClick={() => dispatch(decrement())}>-1</button>
      <button onClick={() => dispatch(incrementByAmount(5))}>+5</button>
    </div>
  );
}

export default Counter;
```

ì´ë ‡ê²Œ í•˜ë©´:

* Action Type ë¬¸ìì—´ ë”°ë¡œ ì •ì˜í•  í•„ìš” X
* Action Creator ë”°ë¡œ ë§Œë“¤ í•„ìš” X
* Reducerë„ switchë¬¸ ì—†ì´ ê¹”ë”
* ë¶ˆë³€ì„±ì€ Immerê°€ ìë™ ì²˜ë¦¬

> ì‹¤ë¬´/ê°•ì˜ ëª¨ë‘ì—ì„œ **â€œRedux = Redux Toolkitâ€**ìœ¼ë¡œ ì´í•´ì‹œí‚¤ëŠ” ê²Œ ìš”ì¦˜ì€ í›¨ì”¬ ì¢‹ìŠµë‹ˆë‹¤.
> (ì „í†µ ReduxëŠ” â€œì—­ì‚¬/ì›ë¦¬ ì„¤ëª…ìš©â€ìœ¼ë¡œ)

---

## 9. Redux vs React Context/useReducer ë¹„êµ ğŸ¥Š

ë¦¬ì•¡íŠ¸ë§Œìœ¼ë¡œë„ state ê´€ë¦¬ë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

* `useState` + ìƒìœ„ ì»´í¬ë„ŒíŠ¸ lifting
* `useReducer` + `useContext`

ê·¸ëŸ¼ì—ë„ Reduxë¥¼ ì“°ëŠ” ì´ìœ ëŠ”?

### Reduxê°€ ìœ ë¦¬í•œ ìƒí™©

1. **stateê°€ ë§ê³  ë³µì¡í•œ ëŒ€ê·œëª¨ ì•±**
2. **ì—¬ëŸ¬ ë„ë©”ì¸ì´ ì„ì—¬ìˆëŠ” ê²½ìš°**

   * ì¸ì¦, ê¶Œí•œ, UI state, ë„ë©”ì¸ ëª¨ë¸, ì•Œë¦¼, í¼ ë“±
3. **ê°•ë ¥í•œ DevTools + Time Travel ë””ë²„ê¹…ì´ í•„ìš”**
4. **ë³µì¡í•œ ë¹„ë™ê¸° íë¦„ì´ ë§ê³ , ëª…ì‹œì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ì‹¶ì„ ë•Œ**
5. **íŒ€/ì¡°ì§ ì°¨ì›ì—ì„œ íŒ¨í„´ì„ í‘œì¤€í™”í•˜ê³  ì‹¶ì„ ë•Œ**
   (onboarding, ì½”ë“œ ë¦¬ë·°, í…ŒìŠ¤íŠ¸, ë””ë²„ê¹…ì´ ì‰¬ì›Œì§)

### Context/useReducerê°€ ì¶©ë¶„í•œ ê²½ìš°

* ì‘ì€ ì•±, ë‹¨ìˆœ state ê³µìœ 
* ë¡œê·¸ì¸ ì—¬ë¶€ ì •ë„ë§Œ Contextë¡œ ê´€ë¦¬
* Reduxì˜ ë„ì… ë¹„ìš©ì´ ì˜¤ë²„ìŠ¤í™ì¸ ìƒí™©

---

## 10. Reduxë¥¼ ì“¸ ë•Œì˜ íŒ¨í„´ & ì•ˆí‹°íŒ¨í„´ âš ï¸

### ì¢‹ì€ íŒ¨í„´ âœ…

* **Slice ë‹¨ìœ„ ì„¤ê³„**

  * `userSlice`, `authSlice`, `cartSlice`, `uiSlice` â€¦
* **stateë¥¼ ë„ˆë¬´ ê±°ëŒ€í•˜ê²Œ í•œ ê³³ì— ëª°ì•„ë„£ì§€ ë§ê³ , ë„ë©”ì¸ë³„ë¡œ ë‚˜ëˆ„ê¸°**
* **Action íƒ€ì…ì€ â€œë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚¬ëŠ”ì§€â€ë¥¼ ì˜ ì„¤ëª…í•˜ëŠ” ì´ë¦„ìœ¼ë¡œ**

  * `user/loginSucceeded`, `cart/itemAdded`, `modal/opened`
* **Thunk/ë¹„ë™ê¸° ë¡œì§ì€ Slice ë°”ê¹¥ ë˜ëŠ” `extraReducers`ì—ì„œ ê´€ë¦¬**
* **Selectorë¥¼ ë”°ë¡œ ì •ì˜í•´ì„œ ì¬ì‚¬ìš©**

  * `selectIsLoggedIn(state)`, `selectCartTotal(state)`

### ì•ˆ ì¢‹ì€ íŒ¨í„´ âŒ

* Reducer ì•ˆì—ì„œ **DOM ì¡°ì‘, fetch, console.log ë‚¨ë°œ**
* Reducerì—ì„œ **ë‚ ì§œ/ëœë¤ ìƒì„±** (ë¹„ê²°ì •ì )
* state íŠ¸ë¦¬ êµ¬ì¡°ë¥¼ ì•„ë¬´ë ‡ê²Œë‚˜ ì„¤ê³„
* Reduxì— ëª¨ë“  stateë¥¼ ë‹¤ ë„£ê¸°

  * ë¡œì»¬ UI state(ëª¨ë‹¬ ë‚´ë¶€ ì¸í’‹, hover state ë“±)ëŠ” ê·¸ëƒ¥ `useState`ê°€ ë” ë‚˜ìŒ

---

## 11. ë§ˆë¬´ë¦¬: Reduxë¥¼ â€œë„ë©”ì¸ ì´ë²¤íŠ¸ì™€ state ì´ë ¥ ê´€ë¦¬ ì‹œìŠ¤í…œâ€ìœ¼ë¡œ ë°”ë¼ë³´ê¸° ğŸ’¡

Reduxë¥¼ ë‹¨ìˆœíˆ â€œì „ì—­ state ê´€ë¦¬ ë„êµ¬â€ë¡œë§Œ ë³´ë©´ ë§¤ë ¥ì´ ë°˜ë§Œ ë³´ì…ë‹ˆë‹¤.

ì¡°ê¸ˆ ë” ë„“ê²Œ ë³´ë©´,

> * **Action**: ë„ë©”ì¸ì—ì„œ ì¼ì–´ë‚˜ëŠ” ì´ë²¤íŠ¸ë“¤ì˜ ë¡œê·¸
> * **Reducer**: ì´ë²¤íŠ¸ê°€ stateì— ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ë¥¼ ì •ì˜í•œ ìˆœìˆ˜ í•¨ìˆ˜ ì§‘í•©
> * **Store**: í˜„ì¬ state + ì´ë ¥ì„ ì¬ìƒí•  ìˆ˜ ìˆëŠ” ê³µê°„
> * **Middleware**: ì´ë²¤íŠ¸ íë¦„ ì¤‘ê°„ì—ì„œ ë¶€ê°€ ì‘ì—…ì„ í•˜ëŠ” ë ˆì´ì–´
> * **DevTools**: ì´ ëª¨ë“  ê²ƒì„ ì‹œê°„ ì¶•ì—ì„œ ì‹œê°í™”í•˜ëŠ” ë””ë²„ê±°

ì¦‰, ReduxëŠ”

> **â€œë³µì¡í•œ í”„ë¡ íŠ¸ì—”ë“œ ì•±ì˜ stateë¥¼
> ì‹œê°„ì¶•ì„ í¬í•¨í•´ì„œ â€˜ë…¼ë¦¬ì ìœ¼ë¡œ ì´í•´ ê°€ëŠ¥í•˜ê²Œâ€™ ë§Œë“¤ê¸° ìœ„í•œ ì•„í‚¤í…ì²˜ ë„êµ¬â€**

ë¼ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ğŸš€

