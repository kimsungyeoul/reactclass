# React `useContext` ğŸ§ 

â€œprops ì§€ì˜¥(prop drilling)â€ì—ì„œ íƒˆì¶œí•˜ëŠ” ë²•

---

## 0. í•œ ì¤„ ìš”ì•½ ğŸ˜

> `useContext`ëŠ” **â€œê¹Šê²Œ ì¤‘ì²©ëœ ì»´í¬ë„ŒíŠ¸ë“¤ ì‚¬ì´ì—ì„œ ê³µí†µ ë°ì´í„°ë¥¼ ì‰½ê²Œ ê³µìœ í•˜ê¸° ìœ„í•´â€** ë§Œë“  ë¦¬ì•¡íŠ¸ í›…ì…ë‹ˆë‹¤.
> `createContext`ë¡œ â€œê³µí†µ ì €ì¥ì†Œâ€ë¥¼ ë§Œë“¤ê³ , `Provider`ë¡œ ê°’ì„ ê³µê¸‰í•˜ê³ , ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œ `useContext`ë¡œ ê°’ì„ ë°”ë¡œ êº¼ë‚´ ì“°ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.

---

## 1. ì™œ useContextê°€ í•„ìš”í•œê°€? â€“ Prop Drilling ë¬¸ì œ ğŸ•³ï¸

### 1-1. ì „í˜•ì ì¸ ë¬¸ì œ ìƒí™©

ì „ì—­ í…Œë§ˆ ì„¤ì •(ë‹¤í¬ ëª¨ë“œ / ë¼ì´íŠ¸ ëª¨ë“œ), ë¡œê·¸ì¸ ì‚¬ìš©ì ì •ë³´, ì–¸ì–´ ì„¤ì • ê°™ì€ ê°’ì€ **ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©**ë©ë‹ˆë‹¤.

```tsx
// App â†’ Layout â†’ Header â†’ UserMenu â†’ UserAvatar
// ì´ëŸ° êµ¬ì¡°ì¼ ë•Œ, user ì •ë³´ë¥¼ Appì—ì„œ ìµœí•˜ë‹¨ê¹Œì§€ ê³„ì† ë‚´ë ¤ì¤˜ì•¼ í•˜ëŠ” ìƒí™©
<App user={user}>
  <Layout user={user}>
    <Header user={user}>
      <UserMenu user={user}>
        <UserAvatar user={user} />
      </UserMenu>
    </Header>
  </Layout>
</App>
```

* ëª¨ë“  ì¤‘ê°„ ì»´í¬ë„ŒíŠ¸ë“¤ì´ **userë¥¼ ì§ì ‘ ì“°ì§€ë„ ì•ŠëŠ”ë°** `props`ë¡œ ê³„ì† ë°›ì•„ì„œ ì•„ë˜ë¡œ ë„˜ê²¨ì•¼ í•©ë‹ˆë‹¤.
* êµ¬ì¡°ê°€ ë³µì¡í•´ì§ˆìˆ˜ë¡ **â€œpropsê°€ ì—°ê²°ëœ ë°°ê´€â€**ì„ ìœ ì§€í•˜ëŠ” ê²Œ ê³ í†µìŠ¤ëŸ½ìŠµë‹ˆë‹¤.
* ì»´í¬ë„ŒíŠ¸ ë¦¬íŒ©í„°ë§(ìœ„ì¹˜ ì´ë™, ë¶„ë¦¬, í•©ì¹˜ê¸°)ì„ í•  ë•Œë§ˆë‹¤ props ì²´ì¸ì„ ë‹¤ì‹œ ì†ë´ì•¼ í•´ì„œ ì‹¤ìˆ˜ë„ ë§ì•„ì§‘ë‹ˆë‹¤.

ì´ê²Œ í”íˆ ë§í•˜ëŠ” **prop drilling(í”„ë¡œí¼í‹° ëš«ê¸° / ê´€í†µí•˜ê¸°)** ë¬¸ì œì…ë‹ˆë‹¤. ğŸ› ï¸

### 1-2. ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°œìƒ

> â€œì¤‘ê°„ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ê±°ì¹˜ì§€ ë§ê³ ,
> **ê³µí†µ ì €ì¥ì†Œ(Context)**ì— ê°’ì„ ì˜¬ë ¤ë‘ê³ ,
> **í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë§Œ ë°”ë¡œ ì—°ê²°í•´ì„œ êº¼ë‚´ ì“°ë©´ ì•ˆ ë ê¹Œ?â€

â†’ ì´ ì•„ì´ë””ì–´ë¥¼ êµ¬í˜„í•œ ê²ƒì´ **React Context API**ì´ê³ ,
í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ ì´ Contextë¥¼ í¸í•˜ê²Œ ì‚¬ìš©í•˜ëŠ” í›…ì´ **`useContext`**ì…ë‹ˆë‹¤.

---

## 2. Context API ê°œë… ì •ë¦¬ ğŸ§©

ContextëŠ” ì„¸ ê°€ì§€ ì¶•ìœ¼ë¡œ ì´í•´í•˜ì‹œë©´ ì¢‹ìŠµë‹ˆë‹¤.

1. **Context ê°ì²´ ë§Œë“¤ê¸°** â€“ `createContext(defaultValue)`
2. **ê°’ì„ ê³µê¸‰í•˜ëŠ” Provider** â€“ `<MyContext.Provider value={...}>`
3. **ê°’ì„ ì†Œë¹„í•˜ëŠ” ì†Œë¹„ì(consumer)** â€“ `useContext(MyContext)`

ê°„ë‹¨ ë¹„ìœ :

* `createContext` â†’ **â€œì£¼ì œ(Topic)ë¥¼ ë§Œë“œëŠ” ê²ƒâ€** (ì˜ˆ: ThemeContext, AuthContext)
* `Provider` â†’ **â€œì´ ì£¼ì œì˜ ì‹¤ì œ ë‚´ìš©(value)ì„ ë°©ì†¡í•˜ëŠ” ì—­í• â€**
* `useContext` â†’ **â€œíŠ¹ì • ì£¼ì œ ë°©ì†¡ì„ ìˆ˜ì‹ í•´ì„œ valueë¥¼ ë°›ëŠ” ë¼ë””ì˜¤â€**

---

## 3. useContext ê¸°ë³¸ ì‚¬ìš©ë²• ğŸ“¦

### 3-1. 1ë‹¨ê³„: Context ìƒì„±í•˜ê¸°

```tsx
// theme-context.tsx (ë˜ëŠ” themeContext.js)
import { createContext } from 'react'

// Context íƒ€ì… ì •ì˜ (TSê°€ ì•„ë‹ˆë©´ ìƒëµ ê°€ëŠ¥)
export type Theme = 'light' | 'dark'

// defaultValueëŠ” Providerê°€ ì—†ì„ ë•Œë§Œ ì‚¬ìš©
export const ThemeContext = createContext<Theme>('light')
```

* `createContext(defaultValue)`ëŠ” **Context ê°ì²´**ë¥¼ ë§Œë“¤ê³ ,
* ì´ ê°ì²´ëŠ” ë‚˜ì¤‘ì—

  * `<ThemeContext.Provider>`ë¡œ ê°’ ê³µê¸‰
  * `useContext(ThemeContext)`ë¡œ ê°’ ì†Œë¹„ì— ì‚¬ìš©ë©ë‹ˆë‹¤.
* `defaultValue`ëŠ” **ì£¼ë¡œ í…ŒìŠ¤íŠ¸ìš©/ë¹„ìƒìš©**ì´ë¼ ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤. ì‹¤ì œ ì•±ì—ì„œëŠ” ê±°ì˜ í•­ìƒ Providerë¡œ ê°’ì„ ì£¼ì…í•©ë‹ˆë‹¤.

### 3-2. 2ë‹¨ê³„: Providerë¡œ ê°’ ê³µê¸‰í•˜ê¸°

```tsx
// App.tsx
import { useState } from 'react'
import { ThemeContext, Theme } from './theme-context'
import Page from './Page'

export default function App() {
  const [theme, setTheme] = useState<Theme>('light')

  const toggleTheme = () => {
    setTheme(prev => (prev === 'light' ? 'dark' : 'light'))
  }

  return (
    // ì—¬ê¸°ì—ì„œ theme ê°’ì„ "ë°©ì†¡"í•©ë‹ˆë‹¤.
    <ThemeContext.Provider value={theme}>
      <Page onToggleTheme={toggleTheme} />
    </ThemeContext.Provider>
  )
}
```

* `value`ì— ì „ë‹¬í•œ ê°’ì´ **íŠ¸ë¦¬ ì•„ë˜ ëª¨ë“  ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê³µìœ **ë©ë‹ˆë‹¤.
* ì´ íŠ¸ë¦¬ ì•ˆ ì–´ë””ì—ì„œë“  `useContext(ThemeContext)` í•˜ë©´ `theme` ê°’ì„ ë°”ë¡œ ì–»ìŠµë‹ˆë‹¤.

> ğŸ’¡ ì¤‘ìš”: ContextëŠ” **Provider ê¸°ì¤€ìœ¼ë¡œ â€œì•„ë˜ Subtreeâ€ì—ë§Œ ì ìš©**ë©ë‹ˆë‹¤.
> Provider ë°–ì˜ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ì´ ê°’ì„ ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

### 3-3. 3ë‹¨ê³„: ìì‹ì—ì„œ useContextë¡œ ê°’ ì†Œë¹„í•˜ê¸°

```tsx
// ThemeButton.tsx
import { useContext } from 'react'
import { ThemeContext } from './theme-context'

export default function ThemeButton() {
  const theme = useContext(ThemeContext)

  return (
    <button
      style={{
        backgroundColor: theme === 'dark' ? '#333' : '#eee',
        color: theme === 'dark' ? '#fff' : '#000',
      }}
    >
      Current theme: {theme}
    </button>
  )
}
```

ìš”ì•½í•˜ë©´:

1. **Context ìƒì„±**: `const ThemeContext = createContext('light')`
2. **Providerë¡œ ê³µìœ  ê°’ ì„¤ì •**: `<ThemeContext.Provider value={theme}>`
3. **useContextë¡œ ê°’ ì½ê¸°**: `const theme = useContext(ThemeContext)`

---

## 4. ì¡°ê¸ˆ ë” í˜„ì‹¤ì ì¸ ì˜ˆì œ: AuthContext ğŸ‘¤

í…Œë§ˆë³´ë‹¤ ë” ì‹¤ì „ì ì¸ ì˜ˆë¡œ, **ë¡œê·¸ì¸ ì •ë³´**ë¥¼ Contextë¡œ ê´€ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.

### 4-1. AuthContext ì •ì˜

```tsx
// AuthContext.tsx
import { createContext } from 'react'

export type User = {
  id: number
  name: string
} | null

export type AuthContextValue = {
  user: User
  login: (name: string) => void
  logout: () => void
}

export const AuthContext = createContext<AuthContextValue | undefined>(undefined)
```

### 4-2. Provider ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ (ì¶”ì²œ íŒ¨í„´)

```tsx
// AuthProvider.tsx
import { ReactNode, useState, useCallback } from 'react'
import { AuthContext, User } from './AuthContext'

type Props = {
  children: ReactNode
}

export function AuthProvider({ children }: Props) {
  const [user, setUser] = useState<User>(null)

  const login = useCallback((name: string) => {
    setUser({ id: Date.now(), name })
  }, [])

  const logout = useCallback(() => {
    setUser(null)
  }, [])

  const value = {
    user,
    login,
    logout,
  }

  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>
}
```

> ğŸ’¡ ì´ëŸ° ì‹ìœ¼ë¡œ Context + Providerë¥¼ ì„¸íŠ¸ë¡œ ë¬¶ì–´ë‘ë©´, **App ë£¨íŠ¸ì—ì„œ ê¹”ë”í•˜ê²Œ ì¬ì‚¬ìš©**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 4-3. App ë£¨íŠ¸ì—ì„œ ì‚¬ìš©

```tsx
// App.tsx
import { AuthProvider } from './AuthProvider'
import Header from './Header'
import Dashboard from './Dashboard'

export default function App() {
  return (
    <AuthProvider>
      <Header />
      <Dashboard />
    </AuthProvider>
  )
}
```

### 4-4. ì•„ë¬´ ìì‹ì´ë‚˜ useContextë¡œ ë¡œê·¸ì¸ ì •ë³´ ì“°ê¸°

```tsx
// Header.tsx
import { useContext } from 'react'
import { AuthContext } from './AuthContext'

export default function Header() {
  const auth = useContext(AuthContext)

  if (!auth) throw new Error('AuthContext is not provided')

  const { user, logout } = auth

  return (
    <header>
      {user ? (
        <>
          <span>ì•ˆë…•í•˜ì„¸ìš”, {user.name}ë‹˜ ğŸ‘‹</span>
          <button onClick={logout}>ë¡œê·¸ì•„ì›ƒ</button>
        </>
      ) : (
        <span>ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤</span>
      )}
    </header>
  )
}
```

```tsx
// LoginForm.tsx
import { useContext, useState } from 'react'
import { AuthContext } from './AuthContext'

export default function LoginForm() {
  const auth = useContext(AuthContext)
  if (!auth) throw new Error('AuthContext is not provided')

  const { login } = auth
  const [name, setName] = useState('')

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault()
    login(name)
  }

  return (
    <form onSubmit={handleSubmit}>
      <input value={name} onChange={e => setName(e.target.value)} placeholder="ì´ë¦„" />
      <button type="submit">ë¡œê·¸ì¸</button>
    </form>
  )
}
```

ì´ì œ `Header`, `LoginForm`, `Dashboard` ë“± ì–´ëŠ ì»´í¬ë„ŒíŠ¸ì—ì„œë“  **props ì „ë‹¬ ì—†ì´** ë¡œê·¸ì¸ ìƒíƒœë¥¼ ì‰½ê²Œ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ğŸ‰

---

## 5. useContext ë‚´ë¶€ ë™ì‘ ì´í•´í•˜ê¸° ğŸ” (ì¡°ê¸ˆ ê¹Šì´)

ì‚¬ìš©ì ê´€ì ì—ì„œëŠ” `useContext`ê°€ ë‹¨ìˆœíˆ â€œì „ì—­ ê°’ ê°€ì ¸ì˜¤ê¸°â€ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ, ë‚´ë¶€ì ìœ¼ë¡œëŠ” ì´ëŸ° ì¼ì´ ë²Œì–´ì§‘ë‹ˆë‹¤.

1. `createContext`ë¥¼ í˜¸ì¶œí•˜ë©´ ReactëŠ” **â€œíŠ¹ì • Contextë¥¼ ì‹ë³„í•˜ëŠ” ê°ì²´â€**ë¥¼ í•˜ë‚˜ ë§Œë“­ë‹ˆë‹¤.
2. JSXë¥¼ ë Œë”ë§í•˜ë©´ì„œ `<MyContext.Provider value={...}>`ë¥¼ ë§Œë‚˜ë©´,

   * í•´ë‹¹ Providerê°€ ê°ì‹¸ê³  ìˆëŠ” ëª¨ë“  í›„ì† ë…¸ë“œì—ê²Œ â€œì´ ContextëŠ” ì´ valueë¥¼ ì‚¬ìš©í•œë‹¤â€ëŠ” ì •ë³´ë¥¼ ì—°ê²°í•©ë‹ˆë‹¤.
3. ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ì—ì„œ `useContext(MyContext)`ë¥¼ í˜¸ì¶œí•˜ë©´,

   * ReactëŠ” **í˜„ì¬ ì»´í¬ë„ŒíŠ¸ê°€ ì†í•œ íŠ¸ë¦¬ ìƒì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ Provider**ë¥¼ ì°¾ê³ ,
   * ê·¸ Providerì˜ `value`ë¥¼ ë¦¬í„´í•©ë‹ˆë‹¤.
4. ë‚˜ì¤‘ì— Providerì˜ `value`ê°€ ë°”ë€Œë©´,

   * ReactëŠ” ì´ Contextë¥¼ êµ¬ë…í•œ ëª¨ë“  ì†Œë¹„ì(useContext ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸)ë¥¼ ë‹¤ì‹œ ë Œë”ë§í•©ë‹ˆë‹¤.

> í•µì‹¬ í¬ì¸íŠ¸:
>
> * ContextëŠ” **â€œê°ì²´ ê·¸ ìì²´â€ê°€ ID** ì—­í• ì„ í•©ë‹ˆë‹¤.
>   ê°™ì€ íŒŒì¼ì—ì„œ importí•œ `ThemeContext` ê°ì²´ë¥¼ ì‚¬ìš©í•´ì•¼ ê°™ì€ Contextë¡œ ì¸ì‹í•©ë‹ˆë‹¤.
> * Provider í•˜ë‚˜ê°€ valueë¥¼ ë°”ê¾¸ë©´, í•´ë‹¹ Contextë¥¼ êµ¬ë…í•˜ëŠ” **ëª¨ë“  ì†Œë¹„ìê°€ ë¦¬ë Œë”ë§**ë©ë‹ˆë‹¤.

---

## 6. ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ê°ì‹¸ê¸° â€“ ì‹¤ë¬´ì—ì„œì˜ íŒ¨í„´ ğŸ§±

ì‹¤ì „ ì½”ë“œì—ì„œëŠ” `useContext(AuthContext)`ë¥¼ ì—¬ê¸°ì €ê¸° ì§ì ‘ ì“°ê¸°ë³´ë‹¤ëŠ”, **ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ê°ì‹¸ëŠ” íŒ¨í„´**ì„ ë§ì´ ì‚¬ìš©í•©ë‹ˆë‹¤.

```tsx
// useAuth.ts
import { useContext } from 'react'
import { AuthContext } from './AuthContext'

export function useAuth() {
  const ctx = useContext(AuthContext)
  if (!ctx) {
    throw new Error('useAuth must be used within <AuthProvider>')
  }
  return ctx
}
```

ì‚¬ìš© ì¸¡:

```tsx
// Header.tsx
import { useAuth } from './useAuth'

export default function Header() {
  const { user, logout } = useAuth()

  return (
    <header>
      {user ? (
        <>
          <span>{user.name}ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤ ğŸ‰</span>
          <button onClick={logout}>ë¡œê·¸ì•„ì›ƒ</button>
        </>
      ) : (
        <span>ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”</span>
      )}
    </header>
  )
}
```

ì¥ì :

* `AuthContext` importë¥¼ ì—¬ê¸°ì €ê¸° í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.
* Provider ëˆ„ë½ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ **í•œ ê³³ì—ì„œ** í†µì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* ë‚˜ì¤‘ì— ë‚´ë¶€ êµ¬í˜„ì„ ë°”ê¿”ë„ (`Redux`ë¡œ êµì²´ ë“±) ì™¸ë¶€ ì»´í¬ë„ŒíŠ¸ ì½”ë“œ ë³€ê²½ì„ ìµœì†Œí™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## 7. ì„±ëŠ¥ ê´€ì ì—ì„œì˜ useContext âš™ï¸

### 7-1. Provider valueê°€ ë°”ë€Œë©´ ëª¨ë‘ ë¦¬ë Œë”ë§

```tsx
<AuthContext.Provider value={{ user, login, logout }}>
  <Header />
  <Sidebar />
  <Main />
</AuthContext.Provider>
```

ìœ„ ì½”ë“œì—ì„œ `user`ê°€ ë°”ë€Œê±°ë‚˜, `login`/`logout` í•¨ìˆ˜ ì°¸ì¡°ê°€ ë°”ë€Œë©´,
**ì´ Contextë¥¼ êµ¬ë…í•˜ëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§**ë©ë‹ˆë‹¤.

ê·¸ë˜ì„œ ë³´í†µì€:

1. **value ê°ì²´ë¥¼ ê·¸ëŒ€ë¡œ inlineìœ¼ë¡œ ë§Œë“¤ì§€ ë§ê³ **

   * `useMemo`, `useCallback`, `useReducer` ë“±ì„ í™œìš©í•´ì„œ **ì°¸ì¡° ì•ˆì •ì„±**ì„ í™•ë³´í•˜ê±°ë‚˜
2. **Contextë¥¼ ë¶„ë¦¬**í•´ì„œ ìì£¼ ë°”ë€ŒëŠ” ê°’ê³¼ ëœ ë°”ë€ŒëŠ” ê°’ì„ ë‚˜ëˆ„ê¸°ë„ í•©ë‹ˆë‹¤.

ì˜ˆì‹œ:

```tsx
const value = useMemo(
  () => ({
    user,
    login,
    logout,
  }),
  [user, login, logout]
)

return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>
```

> ë‹¨, `login`/`logout`ë„ `useCallback`ìœ¼ë¡œ ê°ì‹¸ì„œ ì˜ì¡´ì„± ë°°ì—´ì´ ì•ˆì •ì ìœ¼ë¡œ ìœ ì§€ë˜ë„ë¡ í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

### 7-2. Context ë¶„ë¦¬ ì „ëµ

ì‚¬ìš©ì ì •ë³´ì™€ UI ìƒíƒœ(ì˜ˆ: ì‚¬ì´ë“œë°” ì—´ë¦¼ ì—¬ë¶€)ë¥¼ **ê°™ì€ Contextì— ë„£ìœ¼ë©´**, ì‚¬ì†Œí•œ UI ìƒíƒœ ë³€ê²½ì—ë„ ë¡œê·¸ì¸ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ê°€ í•¨ê»˜ ë¦¬ë Œë”ë§ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ:

* `AuthContext` â€“ ë¡œê·¸ì¸/ì‚¬ìš©ì ì •ë³´
* `UIContext` â€“ UI ê´€ë ¨ ìƒíƒœ
* `ThemeContext` â€“ í…Œë§ˆ

ì´ë ‡ê²Œ ë‚˜ëˆ„ëŠ” ê²ƒì´ ì„±ëŠ¥ + êµ¬ì¡° ë©´ì—ì„œ ë” ì¢‹ìŠµë‹ˆë‹¤. ğŸ§±

---

## 8. useContext vs Redux / useReducer + Context âš”ï¸

### 8-1. useContextì˜ ì—­í• ì€ â€œì „ë‹¬ í†µë¡œâ€ì¼ ë¿

ì¤‘ìš”í•œ í¬ì¸íŠ¸:

> `useContext`ëŠ” **ìƒíƒœ ê´€ë¦¬ ë„êµ¬ê°€ ì•„ë‹ˆë¼, â€œê°’ì„ ì „ë‹¬í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜â€**ì…ë‹ˆë‹¤.

* ìƒíƒœë¥¼ **ì–´ë””ì„œ** ê´€ë¦¬í• ì§€ëŠ” `useState`, `useReducer` ë“±ìœ¼ë¡œ ê²°ì •í•©ë‹ˆë‹¤.
* ê·¸ ìƒíƒœë¥¼ **ì–´ë””ê¹Œì§€** ê³µìœ í• ì§€ëŠ” `Context + useContext`ë¡œ ê²°ì •í•©ë‹ˆë‹¤.

ì‹¤ë¬´ì—ì„œ êµ¬ì¡°ë¥¼ ì¡ì„ ë•ŒëŠ” ë³´í†µ ì´ë ‡ê²Œ ì”ë‹ˆë‹¤:

```tsx
// AuthProvider ë‚´ë¶€
const [state, dispatch] = useReducer(authReducer, initialAuthState)

const value = useMemo(
  () => ({ state, dispatch }),
  [state] // dispatchëŠ” ì•ˆì •ì 
)

return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>
```

ê·¸ë¦¬ê³  ì†Œë¹„ìëŠ”:

```tsx
const { state, dispatch } = useAuth()
```

ì´ íŒ¨í„´ì€ **ê°„ë‹¨í•œ ê·œëª¨**ì—ì„œëŠ” Redux ì—†ì´ë„ ê½¤ ê°•ë ¥í•©ë‹ˆë‹¤.

### 8-2. Reduxì™€ ë¹„êµ

* Redux

  * ì „ì—­ Store, DevTools, ë¯¸ë“¤ì›¨ì–´, íƒ€ì„ íŠ¸ë˜ë¸”, êµ¬ì¡°í™”ëœ ì•¡ì…˜/ë¦¬ë“€ì„œ ë“± **í° ìŠ¤ì¼€ì¼ìš© ì¸í”„ë¼** ì œê³µ
  * â€œì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ ìƒíƒœ íŠ¸ë¦¬â€ë¥¼ í•˜ë‚˜ë¡œ ê´€ë¦¬í•˜ëŠ” ì² í•™
* Context + useReducer

  * íŠ¹ì • ë„ë©”ì¸(ì˜ˆ: Auth, Cart)ì— ëŒ€í•´ **ê°€ë²¼ìš´ Store**ë¥¼ ì§ì ‘ êµ¬í˜„
  * ë„ë©”ì¸ë³„ë¡œ Contextë¥¼ ë‚˜ëˆ„ì–´ ê´€ë¦¬

> êµìœ¡/êµ­ë¹„ ê³¼ì •ì—ì„œëŠ”
>
> * â€œì‘ì€ í”„ë¡œì íŠ¸â€ â†’ `Context + useReducer`
> * â€œí˜„ì—…ì— ê°€ê¹Œìš´ ì¤‘~ëŒ€í˜• í”„ë¡œì íŠ¸â€ â†’ Redux Toolkit
>   ì´ëŸ° ì‹ìœ¼ë¡œ ê³„ë‹¨ì‹ìœ¼ë¡œ ì„¤ëª…í•˜ì‹œë©´ ì¢‹ìŠµë‹ˆë‹¤. ğŸ˜„

---

## 9. í”í•œ ì‹¤ìˆ˜ ì •ë¦¬ ğŸ§¨

1. **Providerë¥¼ ë¹¼ë¨¹ì€ ê²½ìš°**

   ```tsx
   const theme = useContext(ThemeContext) // í•­ìƒ 'light'ë§Œ ë‚˜ì˜´
   ```

   * Provider ì—†ì´ `useContext`ë¥¼ í˜¸ì¶œí•˜ë©´ `createContext`ì˜ `defaultValue`ë§Œ ë°›ìŠµë‹ˆë‹¤.
   * ê°œë°œ ì¤‘ì—ëŠ” **ì»¤ìŠ¤í…€ í›…ì—ì„œ ì—ëŸ¬ ë˜ì§€ê¸° íŒ¨í„´**ìœ¼ë¡œ ì¡°ê¸°ì— ì¡ëŠ” ê²Œ ì¢‹ìŠµë‹ˆë‹¤.

2. **Context ê°ì²´ë¥¼ ì˜ëª» importí•œ ê²½ìš°**

   ```tsx
   // ë‹¤ë¥¸ íŒŒì¼ì—ì„œ ë˜ createContext()ë¥¼ í˜¸ì¶œí•´ë²„ë¦° ê²½ìš°
   export const ThemeContext = createContext('light')
   ```

   * AíŒŒì¼ì—ì„œ ë§Œë“  `ThemeContext`ì™€ BíŒŒì¼ì—ì„œ ë§Œë“  `ThemeContext`ëŠ” **ì„œë¡œ ë‹¤ë¥¸ Context**ì…ë‹ˆë‹¤.
   * ProviderëŠ” Aì˜ Context, ì†Œë¹„ìëŠ” Bì˜ Contextë¥¼ ì“°ë©´, **ê°’ì´ ì ˆëŒ€ ì „ë‹¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**

3. **valueì— ë§¤ë²ˆ ìƒˆë¡œìš´ ê°ì²´/í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë„£ëŠ” ê²½ìš°**

   ```tsx
   <AuthContext.Provider value={{ user, login: () => {...} }}>
   ```

   * ë Œë”ë§ë§ˆë‹¤ `value`ì˜ ì°¸ì¡°ê°€ ë°”ë€Œì–´, í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ê°€ **ë¶ˆí•„ìš”í•˜ê²Œ ìì£¼ ë¦¬ë Œë”ë§**ë©ë‹ˆë‹¤.
   * `useCallback`, `useMemo`ë¥¼ ì ì ˆíˆ ì‚¬ìš©í•´ì„œ ì°¸ì¡°ë¥¼ ì•ˆì •ì‹œí‚¤ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

4. **ëª¨ë“  ìƒíƒœë¥¼ Contextë¡œ ì „ì—­í™”í•˜ëŠ” ê²½ìš°**

   * ContextëŠ” ì–´ë””ì„œë‚˜ ì“¸ ìˆ˜ ìˆë‹¤ê³  í•´ì„œ, ëª¨ë“  stateë¥¼ Contextë¡œ ì˜¬ë¦¬ë©´

     * êµ¬ì¡°ê°€ ë” ë³µì¡í•´ì§€ê³ 
     * ë¦¬ë Œë”ë§ ë²”ìœ„ë„ ì»¤ì§€ê³ 
     * ë¡œì»¬ ìƒíƒœ(Local State)ì˜ ì¥ì (ìº¡ìŠí™”)ì„ ìƒê²Œ ë©ë‹ˆë‹¤.
   * ì›ì¹™:

     > â€œ**ì •ë§ ì—¬ëŸ¬ ê³³ì—ì„œ í•„ìš”**í•œ ë°ì´í„°ë§Œ Contextë¡œ ì˜¬ë¦°ë‹¤.â€

---

## 10. ë§ˆë¬´ë¦¬ ì •ë¦¬ ğŸ§¾

### useContextë¥¼ ì´í•´í•˜ëŠ” í‚¤ì›Œë“œ

* **Prop drilling í•´ì†Œ**: ì¤‘ì²©ëœ ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì—ì„œ ê³µí†µ ë°ì´í„°ë¥¼ ì‰½ê²Œ ê³µìœ 
* **Context ìƒì„±**: `const MyContext = createContext(defaultValue)`
* **ê°’ ê³µê¸‰**: `<MyContext.Provider value={...}>`
* **ê°’ ì†Œë¹„**: `const value = useContext(MyContext)`
* **Provider ê¸°ì¤€ í•˜ìœ„ íŠ¸ë¦¬**ì—ë§Œ ì˜í–¥ì„ ë¯¸ì¹¨
* ìƒíƒœ ê´€ë¦¬ ë„êµ¬ê°€ ì•„ë‹ˆë¼, **â€œì „ë‹¬ í†µë¡œâ€**

### ì‹¤ë¬´ íŒ ìš”ì•½

* Context + Provider + ì»¤ìŠ¤í…€ í›…(`useAuth`, `useTheme`â€¦) ì„¸íŠ¸ë¡œ ì„¤ê³„í•˜ê¸°
* ìì£¼ ë°”ë€ŒëŠ” ê°’ì€ Context ë¶„ë¦¬ or `useReducer`+Context ì¡°í•© ê³ ë ¤
* value ê°ì²´ëŠ” `useMemo`, í•¨ìˆ˜ëŠ” `useCallback`ìœ¼ë¡œ ì°¸ì¡° ì•ˆì •í™”
* ê¸€ë¡œë²Œ ë‚¨ìš© ì£¼ì˜ â€“ â€œì—¬ëŸ¬ ê³³ì—ì„œ í•„ìš”í•  ë•Œë§Œ Contextë¡œ ì˜¬ë¦¬ê¸°â€

